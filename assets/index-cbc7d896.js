import{m as u,a as l,b as x,c as f,j as o,d as h}from"./index-973ef9b2.js";import{F as g}from"./index-69fa4a24.js";import{d as b}from"./postRequest-3a86598c.js";import{P as j}from"./index-13adda16.js";import"./tagRequest-2c59bce1.js";const C=()=>{const[r,i]=u.useMessage(),s=l(x),c=f();if(!s||!s.isAdmin)return o.jsx(g,{});const a=h(s,c),n=async(m,d,p)=>{const e={...m,content:d,tags:p,user_id:s._id};Object.keys(e).forEach(t=>{e[t]||delete e[t]});try{await b(e,s.accessToken,a)?r.success("Đăng tải bài viết thành công"):r.error("Đăng tải bài viết thất bại")}catch{r.success("Có lỗi xảy ra")}};return o.jsxs(o.Fragment,{children:[i,o.jsx(j,{onFinish:n})]})};export{C as default};
