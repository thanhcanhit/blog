import{a as j,b as T,c as b,e as y,r,d,j as s,f as k,a0 as v,B as l}from"./index-17386793.js";import{F as S}from"./index-1306a728.js";import{e as C,h as _}from"./postRequest-8c754513.js";import{P as B}from"./index-e3e5ad67.js";import{P as D}from"./index-bd0ccd3f.js";import"./index-7dcf87ce.js";import"./tagRequest-5dd9008d.js";import"./Pagination-ad58d8ed.js";const F=()=>{const e=j(T),a=b(),[i,m]=y(),[p,g]=r.useState([]),[c,x]=r.useState(!1),h=()=>{x(!c)};if(r.useEffect(()=>{if(!(e!=null&&e._id))return;const t=d(e,a);(async()=>{const n=await C(e._id,e.accessToken,t);n!=null&&n.data?g(n.data):console.log("response error: "+n)})()},[a,e,c]),!e)return s.jsx(S,{message:"Vui lòng đăng nhập để sử dụng tính năng này"});const f=d(e,a),u=async t=>{await _(t,e.accessToken,f)?(i.success(`Đã đưa bài viết ${t} vào thùng rác.`),h()):i.error("Xóa bài viết thất bại")},P={title:"Hành động",dataIndex:"actions",key:"actions",render:(t,o)=>s.jsxs(k,{size:"middle",children:[s.jsx(v,{to:`/me/post/${o._id}`,children:s.jsx(l,{type:"primary",children:"Sửa"})}),s.jsx(D,{title:"Xóa bài viết",description:"Bạn có muốn xóa bài viết này (Có thể khôi phục)",okText:"Xóa",cancelText:"Không",onConfirm:()=>{u(o._id)},children:s.jsx(l,{danger:!0,children:"Delete"})})]})};return s.jsxs("div",{className:"container",children:[m,s.jsx(B,{posts:p,actions:P})]})};export{F as default};
